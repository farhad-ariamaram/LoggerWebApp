'use strict';
!function ($) {
    jQuery(document).ready(function () {
        /**
         * @param {string} e
         * @param {number} extension
         * @return {?}
         */
        function build_extension_ui(e, extension) {
            extension = extension || 1;
            let iHref;
            if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)) {
                return 3 == (iHref = e.substring(1).split("")).length && (iHref = [iHref[0], iHref[0], iHref[1], iHref[1], iHref[2], iHref[2]]), "rgba(" + [(iHref = "0x" + iHref.join("")) >> 16 & 255, iHref >> 8 & 255, 255 & iHref].join(",") + "," + extension + ")";
            }
        }
        /**
         * @return {undefined}
         */
        function set_hide_incompat() {
            $(".color-switcher").toggleClass("visible");
            if ($(".color-switcher").hasClass("visible")) {
                docCookies.setItem("_sd_cs_visible", true, multiStartDate);
            } else {
                docCookies.setItem("_sd_cs_visible", false, multiStartDate);
            }
        }
        var docCookies = {
            getItem: function (uri) {
                return uri && decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*" + encodeURIComponent(uri).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1")) || null;
            },
            setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {
                if (!sKey || /^(?:expires|max\-age|path|domain|secure)$/i.test(sKey)) {
                    return false;
                }
                /** @type {string} */
                var sExpires = "";
                if (vEnd) {
                    switch (vEnd.constructor) {
                        case Number:
                            /** @type {string} */
                            sExpires = vEnd === 1 / 0 ? "; expires=Fri, 31 Dec 9999 23:59:59 GMT" : "; max-age=" + vEnd;
                            break;
                        case String:
                            /** @type {string} */
                            sExpires = "; expires=" + vEnd;
                            break;
                        case Date:
                            /** @type {string} */
                            sExpires = "; expires=" + vEnd.toUTCString();
                    }
                }
                return document.cookie = encodeURIComponent(sKey) + "=" + encodeURIComponent(sValue) + sExpires + (sDomain ? "; domain=" + sDomain : "") + (sPath ? "; path=" + sPath : "") + (bSecure ? "; secure" : ""), true;
            },
            removeItem: function (sKey, sPath, sDomain) {
                return !!this.hasItem(sKey) && (document.cookie = encodeURIComponent(sKey) + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT" + (sDomain ? "; domain=" + sDomain : "") + (sPath ? "; path=" + sPath : ""), true);
            },
            hasItem: function (sKey) {
                return !(!sKey || /^(?:expires|max\-age|path|domain|secure)$/i.test(sKey)) && (new RegExp("(?:^|;\\s*)" + encodeURIComponent(sKey).replace(/[\-\.\+\*]/g, "\\$&") + "\\s*\\=")).test(document.cookie);
            },
            keys: function () {
                /** @type {!Array<string>} */
                var innerArrayValue = document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g, "").split(/\s*(?:=[^;]*)?;\s*/);
                /** @type {number} */
                var t = innerArrayValue.length;
                /** @type {number} */
                var j = 0;
                for (; j < t; j++) {
                    /** @type {string} */
                    innerArrayValue[j] = decodeURIComponent(innerArrayValue[j]);
                }
                return innerArrayValue;
            }
        };
        /** @type {string} */
        var name = "_sd_demo_page_promo";
        var s = docCookies.getItem(name);
        var $html = $(".promo-popup");
        if (s) {
            setTimeout(function () {
                $html.addClass("hidden slideInUp");
            }, 3e3);
        } else {
            setTimeout(function () {
                $html.addClass("bounceIn");
            }, 3e3);
        }
        $html.find(".close").click(function () {
            $html.addClass("hidden");
            /** @type {!Date} */
            var multiStartDate = new Date;
            multiStartDate.setDate(multiStartDate.getDate() + 1);
            docCookies.setItem(name, true, multiStartDate);
        });
        $html.find(".pp-intro-bar").click(function (ftch) {
            if (ftch.target === this && $(this).parent().hasClass("hidden")) {
                docCookies.removeItem(name);
                $html.removeClass("hidden");
            }
        });
        $html.find(".pp-intro-bar .up").click(function () {
            $html.removeClass("hidden");
            docCookies.removeItem(name);
        });
        $html.find(".pp-cta").click(function (event) {
            event.preventDefault();
            if ("undefined" !== dataLayer) {
                dataLayer.push({
                    event: "sdp-demo-cta-upsell",
                    data: {
                        category: "product-demo",
                        action: "cta-upsell",
                        label: "shards-dashboard-pro"
                    }
                });
            }
            window.location = event.target.href;
        });
        var n;
        var mybtn = $("#mybtn");
        var $passwordList = $(".color-switcher .accent-colors");
        var $component = $("#main-stylesheet");
        var this_href = $component.attr("href");
        var imVersion = $component.attr("data-version");
        $passwordList.on("click", "li", function () {
            var textContainer = $(this).attr("data-color");
            /** @type {string} */
            var callOnClickFcn = "styles/accents/" + textContainer + "." + imVersion + ".css";
            if ("primary" == textContainer) {
                callOnClickFcn = this_href;
                mybtn.removeAttr('class');
                mybtn.attr('class', '');
                mybtn.className = '';
                mybtn.addClass("btn");
                mybtn.addClass("btn-block");
                mybtn.addClass("btn-primary");
            }
            $passwordList.find("li.active").removeClass("active");
            $(this).addClass("active");
            $component.attr("href", callOnClickFcn);
            (function (overlay) {
                var src_item = $("#main-logo");
                if (!n) {
                    n = src_item.attr("src");
                }
                if ("primary" === overlay) {
                    return void src_item.attr("src", n);
                }
                src_item.attr("src", "images/shards-dashboards-logo-" + overlay + ".svg");

                //MMMMMMMMMMMMMMMMMM
                if ("primary" === overlay) {
                    
                } else {
                    mybtn.removeAttr('class');
                    mybtn.attr('class', '');
                    mybtn.className = '';
                    mybtn.addClass("btn");
                    mybtn.addClass("btn-block");
                    mybtn.addClass("btn-" + overlay);
                }
                //MMMMMMMMMMMMMMMMMM

            })(textContainer);
            if (void 0 !== window.ubdChart && void 0 !== window.BlogOverviewUsers) {
                (function (element) {
                    element = elementsByTag_[element];
                    /** @type {!Array} */
                    ubdChart.data.datasets[0].backgroundColor = [build_extension_ui(element, .9), build_extension_ui(element, .5), build_extension_ui(element, .3)];
                    ubdChart.update();
                    $(".ubd-stats__legend .ubd-stats__item:nth-child(1) i").attr("style", "color:" + build_extension_ui(element, .9) + ";");
                    $(".ubd-stats__legend .ubd-stats__item:nth-child(2) i").attr("style", "color:" + build_extension_ui(element, .5) + ";");
                    $(".ubd-stats__legend .ubd-stats__item:nth-child(3) i").attr("style", "color:" + build_extension_ui(element, .3) + ";");
                })(textContainer);
            }
        });
        const elementsByTag_ = {
            primary: "#007bff",
            secondary: "#5A6169",
            success: "#17c671",
            info: "#00b8d8",
            warning: "#ffb400",
            danger: "#c4183c"
        };
        $("#social-share").sharrre({
            share: {
                facebook: true,
                twitter: true
            },
            buttons: {
                facebook: {
                    layout: "button_count",
                    action: "like"
                },
                twitter: {
                    count: "horizontal",
                    via: "DesignRevision",
                    hashtags: "bootstrap,uikit"
                }
            },
            enableTracking: true,
            enableHover: false,
            enableCounter: false
        });
        $(".color-switcher-toggle").click(set_hide_incompat);
        $(".color-switcher .close").click(set_hide_incompat);
        /** @type {!Date} */
        var multiStartDate = new Date;
        multiStartDate.setDate(multiStartDate.getDate() + 1);
        docCookies.setItem(name, true, multiStartDate);
        if (null === docCookies.getItem("_sd_cs_visible")) {
            docCookies.setItem("_sd_cs_visible", true, multiStartDate);
        }
        if ("false" !== docCookies.getItem("_sd_cs_visible")) {
            $(".color-switcher").addClass("visible");
        }
        setTimeout(function () {
            $(".loading-overlay").fadeOut(250);
        }, 2e3);
        $(document).on("click", "a.extra-action", function (event) {
            event.preventDefault();
            event.stopPropagation();
            var http_url = $(this).attr("href");
            if (!function () {
                try {
                    return window.self !== window.top;
                } catch (e) {
                    return true;
                }
            }()) {
                window.location = http_url;
            } else {
                window.parent.location = http_url;
            }
        });
    });
}(jQuery);
